import{q as h,r as d,o as r,c as o,y as u,G as $,H as k,I as A,a,t as _,A as F,_ as b,b as f,w as S,e as I,F as m,x as w,d as g,z as N,B as V,J as x,C as z,K as B,L as C,v as j}from"./B91rrFKh.js";const P={class:"v-newsletter-form"},q={key:0,class:"v-newsletter-form__title"},M=["disabled"],D=h({__name:"AppNewsletterForm",setup(y){const e=d(""),p=d(!1),l=d(""),t=d(!1),n=async()=>{p.value=!0,l.value="";try{await new Promise(c=>setTimeout(c,1e3)),l.value="Merci pour votre inscription !",t.value=!0,e.value=""}catch{l.value="Une erreur est survenue. Veuillez réessayer.",t.value=!1}finally{p.value=!1}};return(c,s)=>(r(),o("section",P,[t.value?u("",!0):(r(),o("h2",q,"Restez informé·ex")),t.value?u("",!0):(r(),o("form",{key:1,class:"v-newsletter-form__form",onSubmit:$(n,["prevent"])},[k(a("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>e.value=i),type:"email",required:"",class:"v-newsletter-form__input",placeholder:"votre adresse mail"},null,512),[[A,e.value]]),a("button",{type:"submit",class:"v-newsletter-form__button",disabled:p.value},_(p.value?"Envoi...":"S'inscrire"),9,M)],32)),l.value?(r(),o("p",{key:2,class:F(["v-newsletter-form__message",{"is-success":t.value}])},_(l.value),3)):u("",!0)]))}}),R=b(D,[["__scopeId","data-v-e36ca223"]]),T={class:"v-app-project"},E={class:"v-app-project__text"},L={class:"v-app-project__title"},U={class:"app-rm-margins v-app-project__title__content"},G={class:"v-app-project__subtitle v-app-project__project-hover-transition"},H={class:"v-app-project__year v-app-project__project-hover-transition"},J=["src"],K={class:"v-app-project__category v-app-project__project-hover-transition"},Q=h({__name:"AppProject",props:{src:{},title:{},year:{},category:{},slug:{},subtitle:{},focus:{}},setup(y){return(e,p)=>{const l=I;return r(),o("section",T,[f(l,{class:"v-app-project__link",href:`projects/${e.slug}`},{default:S(()=>[a("div",E,[a("div",L,[a("h3",U,_(e.title),1)]),a("div",G,[(r(!0),o(m,null,w(e.category,(t,n)=>(r(),o("span",null,[n>0?(r(),o(m,{key:0},[g(", ")],64)):u("",!0),g(_(t.title),1)]))),256))]),a("div",H,_(new Date(e.year).getFullYear()),1)]),a("img",{class:"v-app-project__img app-display-block",src:e.src,style:N({objectPosition:e.focus}),alt:"image de couverture pour le projet"},null,12,J),a("div",K,_(e.subtitle),1)]),_:1},8,["href"])])}}}),Y=b(Q,[["__scopeId","data-v-cd072c08"]]),O={class:"v-index"},W={key:0,class:"app-flex app-flex--justify-center"},X={class:"app-flex__col-12 app--width-reg--flex__col-24 v-index__project-box"},Z={class:"app-flex__col-12 app--width-reg--flex__col-24 v-index__project-box app-flex app-flex--justify-center app-flex--align-center"},te=h({__name:"index",setup(y){const e=V(),p=x(),l=z(()=>{var c,s;const t=p.value,n=(c=e.value)==null?void 0:c.projectsInfos.filter(i=>!i.hidde_in_home);return t===null?n==null?void 0:n.slice().reverse():(s=e.value)==null?void 0:s.projectsInfos.filter(i=>i.tags.map(v=>v.uri).includes(t)).slice().reverse()});return B(()=>{const t=C().currentRoute.value.query.q;typeof t=="string"&&(x().value=t)}),(t,n)=>{const c=R;return r(),o("section",O,[j(e)?(r(),o("div",W,[(r(!0),o(m,null,w(j(l),s=>{var i,v;return r(),o("div",X,[f(Y,{title:s.title,category:s.tags,src:((i=s.cover[0])==null?void 0:i.url)||"",year:s.date,slug:s.slug,subtitle:s.subtitle,focus:(v=s.cover[0])==null?void 0:v.focus},null,8,["title","category","src","year","slug","subtitle","focus"])])}),256)),a("div",Z,[f(c)])])):u("",!0)])}}});export{te as default};
